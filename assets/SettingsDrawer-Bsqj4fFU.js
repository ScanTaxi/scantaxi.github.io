import{j as e,I as w}from"./index-D-5ei5l2.js";import{R as n}from"./leaflet-vendor-Bf53NOXg.js";import{u as N}from"./useViewport-C3Kzihzc.js";const L=({isOpen:r,onClose:a,settings:s,onUpdateSettings:i,t:l,availableAggregators:x})=>{const[u,c]=n.useState(r),[o,d]=n.useState(!1),b=x,{height:m,top:h}=N();if(n.useEffect(()=>{if(r)c(!0),setTimeout(()=>d(!0),10);else{d(!1);const t=setTimeout(()=>c(!1),350);return()=>clearTimeout(t)}},[r]),!u)return null;const p=[{code:"ru",label:"Русский"},{code:"en",label:"English"},{code:"uz",label:"O'zbekcha"}],f=t=>{const j=s.enabledAggregators.includes(t)?s.enabledAggregators.filter(v=>v!==t):[...s.enabledAggregators,t];i({...s,enabledAggregators:j})},g=t=>{i({...s,language:t})};return e.jsxs("div",{className:`fixed inset-0 z-50 flex items-end justify-center transition-all duration-300 ${o?"visible":"invisible"}`,style:{height:`${m}px`,top:`${h}px`},children:[e.jsx("div",{className:`absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,onClick:a}),e.jsxs("div",{className:`relative bg-white w-full max-w-md rounded-t-[32px] transition-transform duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${o?"translate-y-0":"translate-y-full"} max-h-[90vh] flex flex-col`,children:[e.jsx("div",{className:"px-5 pt-5 pb-0 shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-[22px] font-bold text-slate-800 tracking-tight ml-1",children:l("settings")}),e.jsx("button",{onClick:a,className:"p-2 bg-slate-100 text-slate-500 hover:text-slate-700 hover:bg-slate-200 rounded-full transition-colors active:scale-95",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-5 py-4 space-y-7",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-slate-400 uppercase tracking-wider mb-3 ml-1",children:l("language")}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(t=>e.jsx("button",{onClick:()=>g(t.code),className:`py-2.5 rounded-full text-[13px] font-bold transition-all border ${s.language===t.code?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:t.label},t.code))})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-slate-400 uppercase tracking-wider mb-3 ml-1",children:l("compareServices")}),e.jsx("div",{className:"space-y-2.5",children:b.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-slate-50 rounded-2xl border border-slate-100/80",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white p-0 border border-slate-100 flex items-center justify-center overflow-hidden relative",children:e.jsx(w,{src:t.logo,alt:t.name,className:"w-full h-full",imgClassName:"w-full h-full object-contain",fallbackText:t.name[0]})}),e.jsx("span",{className:"font-bold text-[15px] text-slate-700",children:t.name})]}),e.jsx("button",{onClick:()=>f(t.id),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${s.enabledAggregators.includes(t.id)?"bg-blue-600":"bg-slate-200"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${s.enabledAggregators.includes(t.id)?"translate-x-6":"translate-x-1"}`})})]},t.id))})]})]}),e.jsxs("div",{className:"px-5 pt-2 pb-6 border-t border-slate-50 mt-auto bg-white space-y-3",children:[e.jsxs("button",{onClick:()=>window.open("https://t.me/scantaxi_support","_blank"),className:"w-full flex items-center gap-3.5 p-3.5 bg-slate-50 hover:bg-slate-100 rounded-2xl text-left transition-all group border border-slate-100 active:scale-[0.98]",children:[e.jsx("div",{className:"p-2 bg-blue-100/50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.9l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-[13px] font-bold text-slate-800 leading-tight",children:l("support")}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium mt-0.5",children:l("supportDesc")})]}),e.jsx("svg",{className:"w-4 h-4 text-slate-300 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5l7 7-7 7"})})]}),e.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white font-bold h-14 rounded-2xl active:scale-[0.98] transition-all hover:bg-blue-700 flex items-center justify-center text-[15px]",children:l("done")})]})]})]})};export{L as SettingsDrawer};
